<!doctype html>
<html lang="en">
  <head>
    <title>CodeLive</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta property="og:title" content="{{docInfo['title']}}" />
    <meta property="og:description" content="{{docInfo['desc']}}" />
    <meta property="og:type" content="{{docInfo['mime']}}" />

    <link rel="icon" href="/static/favicon.svg">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/codemirror.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>

    <link rel="stylesheet" href="/static/css/index.css"/>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/codemirror.js"></script>
  </head>
<body>
  <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-height">
    <a class="navbar-brand" href="#"><i class="fas fa-code"></i>&nbsp; CodeLive</a>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/swe-cola/code-live">GitHub</a>
        </li>
      </ul>
    </div>
    <div>
        <img class="dis_none" id="user_profile">
    </div>
    <button class="btn btn-outline-primary my-2 my-sm-0" type="submit" id="login_btn">Login</button>
    <button class="btn btn-outline-primary my-2 my-sm-0 dis_none" type="submit" id="logout_btn">Log Out</button>
  </nav>
  <div class='container-fluid fixed-height'>
    <div class='row bg-dark vertical-center'>
      <div class="col-3">
        <span id="network-status"></span>&nbsp;&nbsp;<span class='code' id='title'>{{ docInfo['title'] }}</span>
      </div>
      <div class="col"><i class="fas fa-user-friends"></i>&nbsp;&nbsp;<span id="peers-holder"></span></div>
    </div>
  </div>
  <div class='dynamic-height'>
    <div class='container-fluid vertical-container'>
      <textarea id="placeholder" cols="30" rows="10"></textarea>
      <textarea id="console" readonly > </textarea>
    </div>
    <div class='tab-content bg-dark dis_none'>
      <div class="tab-pane active" id="tabFile">
        <div class="btn-group btn-group-sm mr-2" role="group">
          <button id="btnLanguageGroupDrop" type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          </button>
        </div>
        <textarea id="script-input" placeholder="standard input:"></textarea>
        <button type="button" class="btn btn-secondary" id="executeScript">Execute</button>
      </div>
      <div class="tab-pane" id="tabView">
        <div class='inline-block mr-4'>
          Dark Mode
          <label id="darkModeSwitch" class="switch">
            <input id="color_theme" type="checkbox" onclick="colortheme(this)" checked>
            <span class="slider round"></span>
          </label>
        </div>
        <div class="btn-toolbar inline-block" role="toolbar" aria-label="Toolbar with button groups">
          <div id="editor_type" class="btn-group btn-group-sm mt-2 mr-2" role="group" aria-label="First group">
            <button id="sublime" type="button" class="btn btn-secondary">sublime</button>
            <button id="vim" type="button" class="btn btn-secondary">vim</button>
            <button id="emacs" type="button" class="btn btn-secondary">emacs</button>
          </div>

          <div class="btn-group btn-group-sm mr-2" role="group">
            <button id="btnTabSizeGroupDrop" type="button" class="btn btn-secondary dropdown-toggle" data-desc="Tab" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Tab: 4
            </button>
          </div>
          <div class="btn-group btn-group-sm mr-2" role="group">
            <button id="btnFontSizeGroupDrop" type="button" class="btn btn-secondary dropdown-toggle" data-desc="Font" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Font: 14
            </button>
          </div>
        </div>
      </div>
      <div class="tab-pane" id="tabChat">
        <div id="chat" class="chat-wrap bg-dark">
          <div class="header">
            CHAT
          </div>
          <div id="mainChat" class="chat">
            <ul>
              <!-- Dynamically generated -->
            </ul>
          </div>
          <div class="input-div">
            <textarea placeholder="Press Enter to send the message."></textarea>
          </div>

          <!-- format -->

          <div class="chat format">
            <ul>
              <li>
                <div class="sender">
                  <span></span>
                </div>
                <div class="message">
                  <span></span>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="tab-pane" id="tabAccount">
        account
      </div>
    </div>
      <nav class = "nav nav-pills flex-column tabs-buttons bg-dark">
        <a class="nav-link" href="#tabFile" data-toggle="tab">
          <i class="fas fa-file" data-toggle="tooltip" data-placement="left" title="File"></i>
        </a>
        <a class="nav-link" href="#tabView" data-toggle="tab">
          <i class="fas fa-font" data-toggle="tooltip" data-placement="left" title="View"></i>
        </a>
        <a class="nav-link" href="#tabChat" data-toggle="tab">
          <i class="far fa-comment-alt" data-toggle="tooltip" data-placement="left" title="Chat"></i>
        </a>
        <a class="nav-link" href="#tabAccount" data-toggle="tab">
          <i class="fas fa-user-circle" data-toggle="tooltip" data-placement="left" title="Account"></i>
        </a>

        <div class="container">
          <div class="row justify-content-center">
            <button type="button" data-toggle="modal" data-target="#myModal" class="modal-button"><i class="fas fa-info"></i></button>
            <!-- Modal-->
              <div id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" class="modal fade text-left">
                  <div role="document" class="modal-dialog">
                      <div class="modal-content">
                          <div class="modal-header row d-flex justify-content-between mx-1 mx-sm-3 mb-0 pb-0 border-0">
                            <p>Keyboard Shortcuts</p>
                              <div class="tabs active" id="tab02">
                                  <h6 class="font-weight-bold">Sublime</h6>
                              </div>
                              <div class="tabs" id="tab03">
                                  <h6 class="text-muted">Vim</h6>
                              </div>
                              <div class="tabs" id="tab04">
                                  <h6 class="text-muted">Emacs</h6>
                              </div>
                          </div>
                          <div class="line"></div>
                          <div class="modal-body p-0">
                            <fieldset class="show" id="tab021">
                              <div class="text-left row pt-3 px-3">
                                <div class="col-6">
                                  <p>Mac</p>
                                  <p>Cmd-Left: go Line Start Smart
                                  <br>Shift-Tab: indent Less
                                  <br>Shift-Ctrl-K: delete Line
                                  <br>Alt-Q: wrap Lines
                                  <br>Ctrl-Left: go Subword Left
                                  <br>Ctrl-Right: go Subword Right
                                  <br>Ctrl-Alt-Up: scroll Line Up
                                  <br>Ctrl-Alt-Down: scroll Line Down
                                  <br>Cmd-L: select Line
                                  <br>Shift-Cmd-L: split Selection By Line
                                  <br>Esc: single Selection Top
                                  <br>Cmd-Enter: insert Line After
                                  <br>Shift-Cmd-Enter: insert Line Before
                                  <br>Cmd-D: select Next Occurrence
                                  <br>Shift-Cmd-Space: select Scope
                                  <br>Shift-Cmd-M: select Between Brackets
                                  <br>Cmd-M: go To Bracket
                                  <br>Cmd-Ctrl-Up: swap Line Up
                                  <br>Cmd-Ctrl-Down: swap Line Down
                                  <br>Cmd-/: toggle Comment Indented
                                  <br>Cmd-J: join Lines
                                  <br>Shift-Cmd-D: duplicate Line
                                  <br>F5: sort Lines
                                  <br>Cmd-F5: sort Lines Insensitive
                                  <br>F2: next Bookmark
                                  <br>Shift-F2: prev Bookmark
                                  <br>Cmd-F2: toggle Bookmark
                                  <br>Shift-Cmd-F2: clear Bookmarks
                                  <br>Alt-F2: select Bookmarks
                                  <br>Backspace: smart Backspace
                                  <br>Cmd-K Cmd-D: skip And Select Next Occurrence
                                  <br>Cmd-K Cmd-K: del Line Right
                                  <br>Cmd-K Cmd-U: upcase At Cursor
                                  <br>Cmd-K Cmd-L: downcase At Cursor
                                  <br>Cmd-K Cmd-Space: set Sublime Mark
                                  <br>Cmd-K Cmd-A: select To Sublime Mark
                                  <br>Cmd-K Cmd-W: delete To Sublime Mark
                                  <br>Cmd-K Cmd-X: swap With Sublime Mark
                                  <br>Cmd-K Cmd-Y: sublime Yank
                                  <br>Cmd-K Cmd-C: show In Center
                                  <br>Cmd-K Cmd-G: clear Bookmarks
                                  <br>Cmd-K Cmd-Backspace: del Line Left
                                  <br>Cmd-K Cmd-1: fold All
                                  <br>Cmd-K Cmd-0: unfold All
                                  <br>Cmd-K Cmd-J: unfold All
                                  <br>Ctrl-Shift-Up: add Cursor To Prev Line
                                  <br>Ctrl-Shift-Down: add Cursor To Next Line
                                  <br>Cmd-F3: find Under
                                  <br>Shift-Cmd-F3: find Under Previous
                                  <br>Alt-F3: find All Under
                                  <br>Shift-Cmd-[: fold
                                  <br>Shift-Cmd-]: unfold
                                  <br>Cmd-I: find Incremental
                                  <br>Shift-Cmd-I: find Incremental Reverse
                                  <br>Cmd-H: replace
                                  <br>F3: find Next
                                  <br>Shift-F3: find Prev</p>
                                </div>
                                <div class="col-6">
                                  <p>PC</p>
                                  <p>Shift-Tab: indent Less
                                  <br>Shift-Ctrl-K: delete Line
                                  <br>Alt-Q: wrap Lines
                                  <br>Ctrl-T: transpose Chars
                                  <br>Alt-Left: go Subword Left
                                  <br>Alt-Right: go Subword Right
                                  <br>Ctrl-Up: scroll LineUp
                                  <br>Ctrl-Down: scroll Line Down
                                  <br>Ctrl-L: select Line
                                  <br>Shift-Ctrl-L: split Selection By Line
                                  <br>Esc: single Selection Top
                                  <br>Ctrl-Enter: insert Line After
                                  <br>Shift-Ctrl-Enter: insert Line Before
                                  <br>Ctrl-D: select Next Occurrence
                                  <br>Shift-Ctrl-Space: select Scope
                                  <br>Shift-Ctrl-M: select Between Brackets
                                  <br>Ctrl-M: go To Bracket
                                  <br>Shift-Ctrl-Up: swap Line Up
                                  <br>Shift-Ctrl-Down: swap Line Down
                                  <br>Ctrl-/: toggle Comment Indented
                                  <br>Ctrl-J: join Lines
                                  <br>Shift-Ctrl-D: duplicate Line
                                  <br>F9: sort Lines
                                  <br>Ctrl-F9: sort Lines Insensitive
                                  <br>F2: next Bookmark
                                  <br>Shift-F2: prev Bookmark
                                  <br>Ctrl-F2: toggle Bookmark
                                  <br>Shift-Ctrl-F2: clear Bookmarks
                                  <br>Alt-F2: select Bookmarks
                                  <br>Backspace: smart Backspace
                                  <br>Ctrl-K Ctrl-D: skip And Select Next Occurrence
                                  <br>Ctrl-K Ctrl-K: del Line Right
                                  <br>Ctrl-K Ctrl-U: upcase At Cursor
                                  <br>Ctrl-K Ctrl-L: downcase At Cursor
                                  <br>Ctrl-K Ctrl-Space: set Sublime Mark
                                  <br>Ctrl-K Ctrl-A: select To Sublime Mark
                                  <br>Ctrl-K Ctrl-W: delete To Sublime Mark
                                  <br>Ctrl-K Ctrl-X: swap With Sublime Mark
                                  <br>Ctrl-K Ctrl-Y: sublime Yank
                                  <br>Ctrl-K Ctrl-C: show In Center
                                  <br>Ctrl-K Ctrl-G: clear Bookmarks
                                  <br>Ctrl-K Ctrl-Backspace: del Line Left
                                  <br>Ctrl-K Ctrl-1: fold All
                                  <br>Ctrl-K Ctrl-0: unfold All
                                  <br>Ctrl-K Ctrl-J: unfold All
                                  <br>Ctrl-Alt-Up: add Cursor To Prev Line
                                  <br>Ctrl-Alt-Down: add Cursor To Next Line
                                  <br>Ctrl-F3: find Under
                                  <br>Shift-Ctrl-F3: find Under Previous
                                  <br>Alt-F3: find All Under
                                  <br>Shift-Ctrl-[: fold
                                  <br>Shift-Ctrl-]: unfold
                                  <br>Ctrl-I: find Incremental
                                  <br>Shift-Ctrl-I: find Incremental Reverse
                                  <br>Ctrl-H: replace
                                  <br>F3: find Next
                                  <br>Shift-F3: find Prev</p>
                                </div>
                              </div>                      
                            </fieldset>
                            <fieldset id="tab031">    
                              <div class="text-left row pt-3 px-4">
                                <p>Features</p>
                                <p><br><br>All common motions and operators, including text objects
                                <br>Operator motion orthogonality
                                <br>Visual mode - characterwise, linewise, blockwise
                                <br>Full macro support (q, @)
                                <br>Incremental highlighted search (/, ?, #, *, g#, g*)
                                <br>Search/replace with confirm (:substitute, :%s)
                                <br>Search history
                                <br>Jump lists (Ctrl-o, Ctrl-i)
                                <br>Key/command mapping with API (:map, :nmap, :vmap)
                                <br>Sort (:sort)
                                <br>Marks (`, ')
                                <br>:global
                                <br>Insert mode
                                <br>Cross-buffer yank/paste</p>
                              </div>
                            </fieldset>
                            <fieldset id="tab041">      
                              <div class="text-left row pt-3 px-5">
                                <div class="col-6"></div>
                                  <p>Because the internal API is quite different from Emacs, there are only a loose approximation of actual Emacs bindings.</p>
                                  <p>Also note that a lot of browsers disallow certain keys from being captured.
                                  <br>For example, Chrome blocks both Ctrl-W and Ctrl-N, with the result that idiomatic use of Emacs keys will close your tab or open a new window.</p>
                              </div>   
                            </fieldset>
                          </div>
                        </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
      </nav>
  </div>
  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.0.1/socket.io.min.js"></script>

  <!-- Custom JavaScript -->
  <script src="static/js/config.js"></script>
  <script src="static/js/runner.js"></script>
  <script src="static/js/yorkie.js"></script>
  <script src="static/js/util.js"></script>
  <script src="static/js/chat.js"></script>
  <script src="static/js/index.js"></script>
  <script src="static/js/lang_name.js"></script>
  <script src="static/js/index_generate_dynamic_html.js"></script>
  <script src="static/js/index_register_element_callback.js"></script>
  <script>
    const API_URL = '{{ config["API_URL"] }}';
    const collection = '{{ document_key[0] }}';
    const documentName = '{{ document_key[1] }}';
    const CODE_LIVE_COOKIE = '{{ config["CODE_LIVE_COOKIE"] }}';
    const CHAT_SERVER_HOST = '{{ config["CHAT_SERVER_HOST"] }}';
    const CHAT_SERVER_PORT = '{{ config["CHAT_SERVER_PORT"] }}';
    const API_SERVER_HOST = '{{ config["API_SERVER_HOST"] }}';
    main();
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/addon/comment/comment.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/addon/dialog/dialog.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/addon/search/searchcursor.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/addon/search/search.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/addon/scroll/annotatescrollbar.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/addon/search/matchesonscrollbar.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/addon/search/jump-to-line.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/keymap/sublime.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/keymap/vim.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/keymap/emacs.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/addon/hint/show-hint.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/addon/hint/anyword-hint.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/addon/hint/javascript-hint.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/addon/edit/matchbrackets.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/addon/edit/closebrackets.min.js"></script>

  <script src="https://developers.kakao.com/sdk/js/kakao.min.js"></script>
  <script src="/static/js/login.js"></script>
  </body>
</html>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/addon/dialog/dialog.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/addon/search/matchesonscrollbar.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/theme/material.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/theme/solarized.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/addon/hint/show-hint.css">
